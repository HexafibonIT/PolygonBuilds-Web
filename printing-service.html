<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <title>PolygonBuilds</title>
        <!-- Custom Css-->
        <link rel="stylesheet" href="assets/css/style.css" />

        <link
            rel="shortcut icon"
            href="assets/img/favicon.png"
            type="image/x-icon"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css"
            integrity="sha512-q3eWabyZPc1XTCmF+8/LuE1ozpg5xxn7iO89yfSOd5/oKvyqLngoNGsx8jq92Y8eXJ/IRxQbEC+FGSYxtk2oiw=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />

        <!-- Bootstrap CSS -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
            integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
            crossorigin="anonymous"
        />

        <link
            rel="stylesheet"
            href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css"
            type="text/css"
        />

    </head>
    <body>
        <!-- ********** Nav ********** -->
        <nav id="nav" class="navbar navbar-expand-xl navbar-dark bg-dark">
            <a class="navbar-brand" href="index.html"
                ><img
                    src="assets/img/logo.png"
                    alt="logo"
                    width="120px"
                    style="margin-top: 5px"
            /></a>
            <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarsExample05"
                aria-controls="navbarsExample05"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarsExample05">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#howitworks"
                            >How It Works<span class="sr-only"
                                >(current)</span
                            ></a
                        >
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#our-services"
                            >Solutions</a
                        >
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="industries.html"
                            >Industries</a
                        >
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="gallery.html">Gallery</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="faq.html">FAQ</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link btn poly-btn" href="#" role="button"
                            >Place Order</a
                        >
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn poly-btn" href="#" role="button"
                            >Login</a
                        >
                    </li>
                </ul>
                <div class="right">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#"
                                ><i class="fab fa-instagram"></i
                            ></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"
                                ><i class="fab fa-facebook"></i
                            ></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- ********** End Nav **********-->
        <!-- ********** contact ********** -->
        <section id="page-step-1" class="background-dark">
            <div class="printing-service">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 col-lg-4">
                            <div class="upload-preview-section">
                                <img src="https://media.istockphoto.com/photos/installation-with-white-cube-3d-render-picture-id1144256820?k=20&m=1144256820&s=170667a&w=0&h=IAvpc2WFsJpdrjXInOKx3zhfyTbJqYk0PsOQoeDX-Ls=" alt="">
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-8 text-center">
                            <h1 class="drop-down-header">
                                Realize Your Imagination
                            </h1>
                            <span
                                >Upload your fille to continue with
                                PolygonBuilds Manufacturing</span
                            >
                            <div class="file-upload-section">
                                <div class="drag-area">
                                    <header>Drag and drop your files here to start your
                                        quote</header>
                                    <span>OR</span>
                                    <button>Browse File</button>
                                    <input type="file" hidden accept=".stl" multiple>
                                    <h4>
                                        We support the following file types and
                                        sizes
                                    </h4>
                                    <span
                                        >X_T, IGES, STP, SLDPRT, 3DM, IGS, SAT or
                                        STEP files File size less than 128 MB, part
                                        size < 3000*3000*3000 mm
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="privacy-alert">
                            <i class="fa fa-lock"></i>
                            <span>Privacy: All your files are entirely secured with us (read our <a href="moreinfo.html">privacy guarantee</a>.). If you can't upload one of your parts at this time, you
                                can also try our checkout with one of our sample parts.</span>
                            <span><i class="fa fa-play"></i>How it works</span>
                        </div>
                    </div>
                </div>
                <div class="service-description">
                    <h2>Our online 3D printing service</h2>
                    <span
                        >Lorem ipsum dolor sit amet consectetur, adipisicing
                        elit. Reprehenderit, modi at? Deserunt esse quod sunt,
                        tempore ea veritatis, unde quibusdam possimus eveniet
                        quam repellat, ullam sint laboriosam cum id beatae.Lorem
                        ipsum dolor sit amet consectetur, adipisicing elit.
                        Reprehenderit, modi at? Deserunt esse quod sunt, tempore
                        ea veritatis, unde quibusdam possimus eveniet quam
                        repellat, ullam sint laboriosam cum id beatae.Lorem
                        ipsum dolor sit amet consectetur, adipisicing elit.
                        Reprehenderit, modi at? Deserunt esse quod sunt, tempore
                        ea veritatis, unde quibusdam possimus eveniet quam
                        repellat, ullam sint laboriosam cum id beatae.Lorem
                        ipsum dolor sit amet consectetur, adipisicing elit.
                        Reprehenderit, modi at? Deserunt esse quod sunt, tempore
                        ea veritatis, unde quibusdam possimus eveniet quam
                        repellat, ullam sint laboriosam cum id beatae.</span
                    >
                </div>
                <div class="container pt-4">
                    <div class="material-card-wrapper">
                        <div class="material-card">
                            <img
                                src="assets/img/services/3dprint.png"
                                alt=""
                                class="service-img"
                            />
                            <h2>Nylon</h2>
                        </div>
                        <div class="material-card">
                            <img
                                src="assets/img/services/3dprint.png"
                                alt=""
                                class="service-img"
                            />
                            <h2>ABS</h2>
                        </div>
                        <div class="material-card">
                            <img
                                src="assets/img/services/3dprint.png"
                                alt=""
                                class="service-img"
                            />
                            <h2>PLA / PLA+</h2>
                        </div>
                        <div class="material-card">
                            <img
                                src="assets/img/services/3dprint.png"
                                alt=""
                                class="service-img"
                            />
                            <h2>PETG</h2>
                        </div>
                    </div>
                    <div class="compare-section">
                        <div>Comparison of our 3D printing services</div>
                        <div>Need help choosing? See our <span>guide to selecting the right printing process.<span></div>
                    </div>
                </div>
            </div>
        </section>

        <div id="page-step-2" class="printing-placeholder">
            <section class="background-dark">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="upload-preview-section">
                                <img src="https://media.istockphoto.com/photos/installation-with-white-cube-3d-render-picture-id1144256820?k=20&m=1144256820&s=170667a&w=0&h=IAvpc2WFsJpdrjXInOKx3zhfyTbJqYk0PsOQoeDX-Ls=" alt="">
                            </div>
                        </div>
                        <div class="col-lg-8">
                            <div class="upload-info-section" id="upload-info-section">
                                <div class="upload-info-section-title">You have submitted <span id="submitted-file-amount"></span> files</div>
                                <div class="upload-info-section-button" onclick="handleOptionButtons(buttonTypes.DEFAULT)">Let Polygonbuilds take care of My order</div>
                                <div class="upload-info-section-button" onclick="handleOptionButtons(buttonTypes.CUSTOMIZE)">Let Me select my print settings</div>
                            </div>
                            <div class="customize-section" id="customize-section">
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="material-card-option material-card-option-selected" onclick="handleMaterialSelectButton(materialTypes.FDM)">
                                            <img
                                                src="assets/img/services/3dprint.png"
                                                alt=""
                                                class="material-img"
                                            />
                                            <h2>FDM</h2>
                                        </div>
                                        <div class="material-card-option" onclick="handleMaterialSelectButton(materialTypes.SLA)">
                                            <img
                                                src="assets/img/services/3dprint.png"
                                                alt=""
                                                class="material-img"
                                            />
                                            <h2>SLA</h2>
                                        </div>
                                    </div>
                                    <div class="col-lg-8 customize-section-info-panel">
                                        <span>Select Material</span>
                                        <div id="select-material-row"></div>

                                        <span>Select Color</span>
                                        <div id="select-color-row"></div>
                                        
                                        <span>Advanced Options</span>
                                        <span>Vertical Resolution</span>
                                        <div id="vertical-resolution-row"></div>

                                        <span>Infill Type</span>
                                        <div id="infill-type-row"></div>
                                        
                                        <div id="percentage-row">
                                        </div>
                                    </div>
                                </div>
                                <div class="bottom-panel">
                                    <div class="pagination">
                                        <div class="prev-btn" onclick="updatePagination('subtract')"><i class="fa fa-chevron-left"></i></div>
                                        <span>Model <span id="model-pagination-current"></span> of <span id="model-pagination-total"></span></span>
                                        <div class="next-btn" onclick="updatePagination('add')"><i class="fa fa-chevron-right"></i></div>
                                    </div>
                                    <input type="file" onchange="handleAddNewFile(event)" accept=".stl" multiple class="action-input">
                                    <div class="action-btn" onclick="handleReset()">Reset</div>
                                    <div class="action-btn" onclick="handleBillingButton()">Billing</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <section id="page-step-3" class="background-dark">
            <div class="container summary-content">
                <br>
                <div class="row">
                    <div class="col-md-12 text-center">
                        <h2 class="drop-down-header"> You have submitted {{n}} models</h2>  
                    </div>                  
                </div>
                <br>
                <div class="row">
                    <div class="container">
                        <form action="">
                            <div class="row">
                                <div class="col-md-3">
                                </div>
                                <div class="col-md-3">
                                    <label for="notes">Notes</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">                                    
                                        <input
                                            class="form-control"
                                            type="text"
                                            name="notes"
                                            id="notes"
                                        />
                                    </div>
                                </div> 
                                <div class="col-md-3">
                                </div>                               
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-3">
                                </div>
                                <div class="col-md-3">
                                    <label for="btnUpload">Add additional files if needed</label>
                                </div>
                                <div class="col-md-3">
                                    <button type="button" class="btn btn-secondary">Upload Files</button>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                            <div class="row text-center" >
                                <button type="submit">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-step-4" class="background-dark">
            <div class="row">
                <div class="col-md-4 order-summary-main">
                    <div class="row">
                        <div class="col-12">
                            <div class="container">
                                <h2>Order Summary</h2>
                                <div class="row">
                                    <div class="container" style="background-color: white;margin-left: 10px;color: black;">
                                        sample text
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>                    
                </div>
                <div class="col-md-8 order-details-main">
                    <div class="container">
                        <div class="row">
                            <h3>Delivery Details</h3>  
                        </div>
                        <form id="deliveryDetails">
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <label for="recipientName">Recepient Name *</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fas fa-user-circle"></i>
                                            </div>
                                            </div>
                                            <input
                                                class="form-control"
                                                type="text"
                                                name="recipientName"
                                                id="recipientName"
                                                placeholder="Full Name"
                                                required
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-group">
                                    <label for="deliveryAddress">Street address *</label>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <i class="fas fa-map-marked-alt"></i>
                                        </div>
                                        </div>
                                        <textarea
                                        class="form-control"
                                        type="text"
                                        name="deliveryAddress"
                                        id="deliveryAddress"
                                        placeholder="House number and street name"
                                        required
                                        ></textarea>
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    <div class="form-group">
                                        <label for="townCity">Town / City *</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fas fa-city"></i>
                                            </div>
                                            </div>
                                            <input
                                                class="form-control"
                                                type="text"
                                                name="townCity"
                                                id="townCity"
                                                required
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="form-group">
                                        <label for="postalCode">Postal Code *</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fas fa-envelope"></i>
                                            </div>
                                            </div>
                                            <input
                                            class="form-control"
                                            type="text"
                                            name="postalCode"
                                            id="postalCode"
                                            required
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="form-group">
                                        <label for="phone">Phone *</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fas fa-phone"></i>
                                            </div>
                                            </div>
                                            <input
                                            class="form-control"
                                            type="text"
                                            name="phone"
                                            id="phone"
                                            required
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="container">
                        <div class="row">
                            <h3>Order Details</h3>  
                        </div>
                        <form id="orderDetails">
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <label for="orderRecipientName">Recepient Name *</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fas fa-user-circle"></i>
                                            </div>
                                            </div>
                                            <input
                                                class="form-control"
                                                type="text"
                                                name="orderRecipientName"
                                                id="orderRecipientName"
                                                placeholder="Full Name"
                                                required
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-group">
                                    <label for="orderAddress">Street address *</label>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <i class="fas fa-map-marked-alt"></i>
                                        </div>
                                        </div>
                                        <textarea
                                        class="form-control"
                                        type="text"
                                        name="orderAddress"
                                        id="orderAddress"
                                        placeholder="House number and street name"
                                        required
                                        ></textarea>
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    <div class="form-group">
                                        <label for="orderTownCity">Town / City *</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fas fa-city"></i>
                                            </div>
                                            </div>
                                            <input
                                                class="form-control"
                                                type="text"
                                                name="orderTownCity"
                                                id="orderTownCity"
                                                required
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="form-group">
                                        <label for="orderPostalCode">Postal Code *</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fas fa-envelope"></i>
                                            </div>
                                            </div>
                                            <input
                                            class="form-control"
                                            type="text"
                                            name="orderPostalCode"
                                            id="orderPostalCode"
                                            required
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="form-group">
                                        <label for="orderPhone">Phone *</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fas fa-phone"></i>
                                            </div>
                                            </div>
                                            <input
                                            class="form-control"
                                            type="text"
                                            name="orderPhone"
                                            id="orderPhone"
                                            required
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <h3>Order Remarks</h3>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                        <i class="fas fa-edit"> </i>
                                        </div>
                                    </div>
                                    <textarea
                                        class="form-control"
                                        type="text"
                                        name="ord_remarks"
                                        id="ord_remarks"
                                        placeholder="Enter your order remarks here Special Instructions for printing, painting etc"
                                        required
                                    ></textarea>
                                    </div>
                                </div>
                                </div>
                        </div>
                        <div class="col-6">
                            <h3>Delivery Remarks</h3>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                        <i class="fas fa-edit"> </i>
                                        </div>
                                    </div>
                                    <textarea
                                        class="form-control"
                                        type="text"
                                        name="delv_remarks"
                                        id="delv_remarks"
                                        placeholder="Enter your delivery remarks here"
                                        required
                                    ></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 
                    <div class="container">
                        <div class="row" id="btn-pannel" style="position: sticky; padding: 15px 10px">
                            <div class="col-md-6"></div>
                            <div class="col-md-6">
                                <div class="btn-group" role="group" style="float: right">
                                    <button 
                                        type="button" 
                                        class="btn btn-secondary">
                                            Reset
                                    </button>
                                    <button
                                        type="button"
                                        class="btn btn-warning">
                                            Previous
                                    </button>
                                    <button 
                                        type="button" 
                                        class="btn btn-primary">
                                            Add to cart
                                    </button>
                                    <button
                                        type="button"
                                        class="btn btn-success"
                                        disabled
                                        id="submit-btn">
                                            Billing
                                    </button>
                                </div>                    
                            </div>
                        </div>
                    </div>                   
                </div>
            </div>            
        </section>
        <!-- ======= Footer ======= -->
        <footer id="footer">

            <div class="footer-top">

            <div class="container">

                <div class="row  justify-content-center">
                <div class="col-lg-6">
                    <img src="assets/img/logo.png" alt="" width="250px">
                    
                </div>
                </div>

                <div class="row footer-newsletter justify-content-center">
                <div class="col-lg-6">
                    <form id="subscribe">
                    <input type="email" name="email" placeholder="Enter your email"><input id="subscribe_email" type="submit" value="Subscribe">
                    </form>
                </div>
                </div>

                <div class="social-links">
                <!--<a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>-->
                <a href="https://www.facebook.com/polygonbuilds" class="facebook"><i class="fab fa-facebook"></i></a>
                <a href="http://instagram.com/polygon_builds" class="instagram"><i class="fab fa-instagram"></i></a>
                <!--<a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>-->
                <!--<a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>-->
                </div>
                
        
            </div>
            </div>
            
            <div class="container footer-bottom">
            <div class="row">
                <div class="col-md-6 copy-left">
                &copy; Copyright <strong><span>PolygonBuilds</span></strong>. All Rights Reserved
                </div>
                <div class="col-md-6 copy-right" >
                Digitally crafted by <strong><span>Inofinity Labs</span></strong>
                </div>
            </div>
            </div> 
            
            
        </footer><!-- End Footer -->

        <div id="preloader"></div>
        <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

        <script>
            const fileList = []
            let modelList = []

            class WatchedVariable {
                constructor(variableName,initialValue,callbackFunction){
                    //set default values if missing
                    initialValue ??= null;
                    callbackFunction ??= function(){console.log(variableName+" changed to " + window["_"+variableName])};
                    //and now the actual useful code!
                    Object.defineProperty(window, variableName, {
                        set: function(value) {window["_"+variableName] = value; callbackFunction()},
                        get: function() {return window["_"+variableName]}
                    });
                    window[variableName]=initialValue;
                    Object.assign(this, {variableName,initialValue,callbackFunction});
                }
            }
            new WatchedVariable('pageStep',1,function(){
                if(window.pageStep==1){
                    document.getElementById('page-step-1').style.display = 'block';
                    document.getElementById('page-step-2').style.display = 'none';
                    document.getElementById('page-step-3').style.display = 'none';
                    document.getElementById('page-step-4').style.display = 'none';
                }
                else if(window.pageStep==2){
                    document.getElementById('page-step-1').style.display = 'none';
                    document.getElementById('page-step-2').style.display = 'block';
                    document.getElementById('page-step-3').style.display = 'none';
                    document.getElementById('page-step-4').style.display = 'none';
                }
                else if(window.pageStep==3){
                    document.getElementById('page-step-1').style.display = 'none';
                    document.getElementById('page-step-2').style.display = 'none';
                    document.getElementById('page-step-3').style.display = 'block';
                    document.getElementById('page-step-4').style.display = 'none';
                }
                else if(window.pageStep==4){
                    document.getElementById('page-step-1').style.display = 'none';
                    document.getElementById('page-step-2').style.display = 'none';
                    document.getElementById('page-step-3').style.display = 'none';
                    document.getElementById('page-step-4').style.display = 'block';
                }
                
            });

            new WatchedVariable('currentModel',1,function(){
                document.getElementById("model-pagination-current").innerHTML = window.currentModel;
                setSelectedClassForButtons();
                if(modelList.length!==0 && modelList[window.currentModel-1].hasOwnProperty('parentMaterialType')){
                    handleSelectCurrentMaterialButton(modelList[window.currentModel-1].parentMaterialType);
                }
            });
            new WatchedVariable('totalModels',1,function(){
                document.getElementById("model-pagination-total").innerHTML = window.totalModels;
            });

            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                })
            }
            
            const dropArea = document.querySelector(".drag-area"),
            dragText = dropArea.querySelector("header"),
            button = dropArea.querySelector("button"),
            input = dropArea.querySelector("input");

            button.onclick = () => {
                input.click(); //if user click on the button then the input also clicked
            }

            input.addEventListener("change", function() {
                dropArea.classList.add("active");
                uploadFiles(this.files);
            });

            //If user Drag File Over DropArea
            dropArea.addEventListener("dragover", (event) => {
                event.preventDefault(); //preventing from default behaviour
                dropArea.classList.add("active");
                dragText.textContent = "Release to Upload File";
            });

            //If user leave dragged File from DropArea
            dropArea.addEventListener("dragleave", () => {
                dropArea.classList.remove("active");
                dragText.textContent = "Drag & Drop to Upload File";
            });

            //If user drop File on DropArea
            dropArea.addEventListener("drop", (event) => {
                event.preventDefault(); //preventing from default behaviour
                uploadFiles(event.dataTransfer.files[0]); //calling function
            });

            function uploadFiles(files, changePageStep=true) {
                for(let i=0; i<files.length; i++){
                    const file = files[i];
                    let fileType = file.name.split('.').pop(); 
                    let validExtensions = ["stl"]; 
                    if (validExtensions.includes(fileType)) { 
                        fileList.push({file});
                    } else {
                        alert("This is not an Model File!");
                        dropArea.classList.remove("active");
                        dragText.textContent = "Drag & Drop to Upload File";
                    }
                }
                if(fileList.length!==0 && changePageStep){
                    pageStep = 2
                    // hide customize-section on page load
                    document.getElementById("customize-section").style.display = "none";
                    document.getElementById("submitted-file-amount").innerHTML = fileList.length;     
                    scrollToTop()       
                }
            }

            //page step 2 JS code
            function updatePagination(type) {
                if(type==='add'){
                    if(currentModel<totalModels){
                        currentModel++;
                    }
                }
                else if(type==='subtract'){
                    if(currentModel>1){
                        currentModel--;
                    }
                }
            }

            const buttonTypes = {
                'CUSTOMIZE': 'CUSTOMIZE',
                'DEFAULT': 'DEFAULT'
            }

            const materialTypes = {
                'FDM': 'FDM',
                'SLA': 'SLA'
            }

            function renderFormSelectButton(value,key) {
                return `<div 
                            class="form-render-button"
                            onclick="handleFormInputChange('${value}','${key}')"
                        >${value}</div>
                        `
            }

            function renderPercentageSlider(label,value,key){
                return `
                    <div>
                        <span>${label}</span>
                        <input 
                            type="range" 
                            name="infill-percentage" 
                            min="1" 
                            max="100" 
                            value=${value}
                            onchange="handleFormInputChange(event.target.value,'${key}')"
                        >
                    <div>
                `
            }

            function setSelectedClassForButtons() {
                const keyList = [
                    {
                        key:'material',
                        parent:'select-material-row'
                    },
                    {
                        key:'color',
                        parent:'select-color-row'
                    },
                    {
                        key:'infillType',
                        parent:'infill-type-row'
                    },
                    {
                        key:'verticalResolution',
                        parent:'vertical-resolution-row'
                    }
                ];
                const elementList = document.getElementsByClassName("form-render-button");
                keyList.forEach(key=>{
                    for(let i=0;i<elementList.length;i++){
                        if(elementList[i].parentElement.id === key.parent){
                            elementList[i].classList.remove("form-render-button-selected");
                            elementList[i].innerText === modelList[currentModel-1][key.key] ? elementList[i].classList.add("form-render-button-selected") : null;
                        }
                    }
                })
            }

            function handleFormInputChange(value,key){
                modelList[currentModel-1][key] = value;
                setSelectedClassForButtons();
            }

            function fetchMaterialData(materialType) {
                if(materialType === materialTypes.FDM) {
                    return {
                        materialList:['FDM','ABS','PLA','PETG','Nylon'],
                        colors:['Black','White'],
                        verticalResolution:['250','500','750','1000'],
                        infillType:['Full','Hollow'],
                        infillPercentage:0,
                        wallThickness:10
                    }
                }
                if(materialType === materialTypes.SLA) {
                    return {
                        materialList:['FDM','ABS'],
                        colors:['Black','White'],
                        verticalResolution:['250','500','750','1000'],
                        infillType:['Full','Hollow'],
                        infillPercentage:0,
                    }
                }
            }

            function loadFormItems(materialData) {
                materialData.materialList.forEach(material => {
                    const materialSelect = document.getElementById('select-material-row');
                    materialSelect.innerHTML += renderFormSelectButton(material,'material');
                });
                materialData.colors.forEach(color => {
                    const colorSelect = document.getElementById('select-color-row');
                    colorSelect.innerHTML += renderFormSelectButton(color,'color');
                });
                materialData.verticalResolution.forEach(resolution => {
                    const resolutionSelect = document.getElementById('vertical-resolution-row');
                    resolutionSelect.innerHTML += renderFormSelectButton(resolution,'verticalResolution');
                });
                materialData.infillType.forEach(type => {
                    const resolutionSelect = document.getElementById('infill-type-row');
                    resolutionSelect.innerHTML += renderFormSelectButton(type,'infillType');
                });

                const percentageRow = document.getElementById('percentage-row');
                if(materialData.hasOwnProperty('infillPercentage')) {
                    percentageRow.innerHTML += renderPercentageSlider('Infill Percentage',materialData.infillPercentage,'infillPercentage');
                }
                if(materialData.hasOwnProperty('wallThickness')){
                    percentageRow.innerHTML += renderPercentageSlider('Wall Thickness',materialData.wallThickness,'wallThickness');
                }
            }

            function clearFormItems(){
                const materialSelect = document.getElementById('select-material-row');
                materialSelect.innerHTML = '';
                const colorSelect = document.getElementById('select-color-row');
                colorSelect.innerHTML = '';
                const resolutionSelect = document.getElementById('vertical-resolution-row');
                resolutionSelect.innerHTML = '';
                const infillTypeSelect = document.getElementById('infill-type-row');
                infillTypeSelect.innerHTML = '';
                const percentageRow = document.getElementById('percentage-row');
                percentageRow.innerHTML = '';
            }

            function handleOptionButtons(buttonType) {
                if(buttonType === buttonTypes.CUSTOMIZE) {
                    document.getElementById("upload-info-section").style.display = "none";
                    document.getElementById("customize-section").style.display = "block";
                    
                    modelList = fileList;
                    console.log(modelList)

                    totalModels = modelList.length;
                    const materialData = fetchMaterialData(materialTypes.FDM);
                    clearFormItems();
                    loadFormItems(materialData);
                    //set initial material type
                    handleMaterialSelectButton(materialTypes.FDM)

                } else {
                    pageStep = 3    
                }
            }

            function handleReset() {
                const materialData = fetchMaterialData(materialTypes.FDM);
                    clearFormItems();
                    loadFormItems(materialData);
                    handleMaterialSelectButton(materialTypes.FDM)
            }

            function handleMaterialSelectButton(materialType) {
                modelList[currentModel-1].parentMaterialType = materialType
                handleSelectCurrentMaterialButton(materialType)

                const materialData = fetchMaterialData(materialType);
                clearFormItems();
                loadFormItems(materialData);
            }

            function handleSelectCurrentMaterialButton(materialType){
                if(materialType === materialTypes.FDM) {
                    document.getElementsByClassName('material-card-option')[0].classList.add('material-card-option-selected');
                    document.getElementsByClassName('material-card-option')[1].classList.remove('material-card-option-selected');
                }
                else {
                    document.getElementsByClassName('material-card-option')[0].classList.remove('material-card-option-selected');
                    document.getElementsByClassName('material-card-option')[1].classList.add('material-card-option-selected');
                }
            }

            function handleAddNewFile(event){
                uploadFiles(event.target.files, false)
                totalModels +=1
            }

            function handleBillingButton() {
                console.log(modelList)
                pageStep = 4
            }

        </script>
</html>
